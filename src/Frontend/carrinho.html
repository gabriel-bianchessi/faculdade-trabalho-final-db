<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Meu Carrinho - Fake Loja</title>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        >
        <link rel="stylesheet" href="./src/css/style.css">
    </head>
    <body>
        <nav class="navbar navbar-dark bg-dark">
            <div class="container-fluid">
                <a href="index.html" class="navbar-brand mb-0 h1">üõçÔ∏è Fake Loja</a>
                <div>
                    <a href="index.html" class="btn btn-outline-light me-2">‚Üê Voltar √†s Compras</a>
                    <a href="minhas-compras.html" class="btn btn-outline-light me-2">üì¶ Minhas Compras</a>
                    <button class="btn btn-outline-light position-relative me-2" id="cart-button">
                        üõçÔ∏è Carrinho
                        <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" id="cart-count">
                            0
                        </span>
                    </button>
                    <button class="btn btn-outline-danger" id="logout-button">
                        üö∫ Sair
                    </button>
                </div>
            </div>
        </nav>

        <main class="container mt-4">
            <h2 class="mb-4">üõí Meu Carrinho de Compras</h2>
            
            <div id="status-message" class="alert d-none" role="alert"></div>

            <div class="row">
                <div class="col-lg-8">
                    <div id="cart-items-container">
                        <!-- Itens do carrinho ser√£o renderizados aqui -->
                    </div>
                    <div id="cart-empty-message" class="card text-center py-5 d-none">
                        <div class="card-body">
                            <h3 class="text-muted mb-3">üõí Seu carrinho est√° vazio</h3>
                            <p class="text-muted mb-4">Adicione produtos para come√ßar suas compras!</p>
                            <a href="index.html" class="btn btn-primary">Ir √†s Compras</a>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card sticky-top" style="top: 20px;">
                        <div class="card-header bg-dark text-white">
                            <h5 class="mb-0">Resumo do Pedido</h5>
                        </div>
                        <div class="card-body">
                            <div class="d-flex justify-content-between mb-2">
                                <span>Subtotal:</span>
                                <span id="cart-subtotal">R$ 0,00</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span>Total de itens:</span>
                                <span id="total-items">0</span>
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between mb-3">
                                <strong>Total:</strong>
                                <strong id="cart-total" class="fs-4 text-success">R$ 0,00</strong>
                            </div>
                            <button class="btn btn-success w-100 mb-2" id="checkout-btn">
                                Finalizar Compra
                            </button>
                            <button class="btn btn-outline-danger w-100" id="clear-cart-btn">
                                Limpar Carrinho
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Modal de Checkout -->
        <div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="checkoutModalLabel">Finalizar Compra</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <form id="checkout-form">
                            <div class="mb-3">
                                <label for="customer-email" class="form-label">E-mail *</label>
                                <input 
                                    type="email" 
                                    class="form-control" 
                                    id="customer-email" 
                                    placeholder="seu@email.com"
                                    required
                                >
                                <small class="text-muted">Usaremos este e-mail para identificar suas compras</small>
                            </div>

                            <div class="mb-3">
                                <label for="customer-name" class="form-label">Nome Completo *</label>
                                <input 
                                    type="text" 
                                    class="form-control" 
                                    id="customer-name" 
                                    placeholder="Seu nome"
                                    required
                                >
                            </div>

                            <div class="mb-3">
                                <label class="form-label">M√©todo de Pagamento *</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" id="payment-credit" value="CREDITO" checked>
                                    <label class="form-check-label" for="payment-credit">
                                        üí≥ Cart√£o de Cr√©dito
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" id="payment-debit" value="DEBITO">
                                    <label class="form-check-label" for="payment-debit">
                                        üí≥ Cart√£o de D√©bito
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" id="payment-pix" value="PIX">
                                    <label class="form-check-label" for="payment-pix">
                                        üì± PIX
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="payment-method" id="payment-boleto" value="BOLETO">
                                    <label class="form-check-label" for="payment-boleto">
                                        üßæ Boleto Banc√°rio
                                    </label>
                                </div>
                            </div>

                            <hr>

                            <div class="d-flex justify-content-between mb-3">
                                <strong>Total a pagar:</strong>
                                <strong id="modal-total" class="text-success fs-5">R$ 0,00</strong>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                        <button type="button" class="btn btn-success" id="confirm-checkout-btn">
                            Confirmar Pedido
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script type="module" src="./src/js/carrinho.js"></script>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        ></script>
    </body>
</html>
